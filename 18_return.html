<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="css/17_carousel.css" rel="stylesheet">
    <title>Document</title>
</head>

<body>
    <div class="black-bg">
        <div class="white-bg">
            <h4>로그인하세요</h4>
            <form action="09-1_success.html">
                <div class="my-3">
                    <input type="text" class="form-control">
                </div>
                <div class="my-3">
                    <input type="password" class="form-control">
                </div>
                <button type="submit" class="btn btn-primary">전송</button>
                <button type="button" class="btn btn-danger" id="close">닫기</button>
            </form>
        </div>
    </div>

    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <span class="navbar-brand">JSShop</span>
            <span class="badge bg-dark ms-auto mx-3">Dark 🔄</span>
            <button class="navbar-toggler" type="button">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="list-container">
        <ul class="list-group">
            <li class="list-group-item">An item</li>
            <li class="list-group-item">A second item</li>
            <li class="list-group-item">A third item</li>
            <li class="list-group-item">A fourth item</li>
            <li class="list-group-item">And a fifth one</li>
        </ul>
    </div>

    <div class="main-bg">
        <h4>Shirts on Sale</h4>
        <button id="login" class="btn btn-danger">로그인</button>
    </div>

    <div style="overflow: hidden;">
        <div class="slide-container">
            <div class="slide-box">
                <img src="car1.png">
            </div>
            <div class="slide-box">
                <img src="car2.png">
            </div>
            <div class="slide-box">
                <img src="car3.png">
            </div>
        </div>
    </div>

    <button class="slide-1">1</button>
    <button class="slide-2">2</button>
    <button class="slide-3">3</button>
    <button class="slide-previous">이전</button>
    <button class="slide-next">다음</button>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <script>
        $('.navbar-toggler').on('click', function () {
            $('.list-container').toggleClass('show');
        })

        $('#login').on('click', function () {
            $('.black-bg').addClass('show-modal');
        })

        $('#close').on('click', function () {
            $('.black-bg').removeClass('show-modal');
        })
    </script>

    <script>
        document.querySelector('form').addEventListener('submit', function (event) {
            if (document.getElementsByClassName('form-control')[0].value == '') {
                alert('아이디를 입력하세요');
                event.preventDefault();
            } else if (/\S+@\S+\.\S+/.test(document.getElementsByClassName('form-control')[0].value) == false) {
                alert('이메일 형식이 잘못되었습니다.');
                event.preventDefault();
            } else if (document.getElementsByClassName('form-control')[1].value == '') {
                alert('비밀번호를 입력하세요');
                event.preventDefault();
            } else if (document.getElementsByClassName('form-control')[1].value.length < 6) {
                alert('비밀번호를 6자 이상 입력하세요');
                event.preventDefault();
            } else if (/[A-Z]/.test(document.getElementsByClassName('form-control')[1].value) == false) {
                alert('비밀번호에는 최소 1개의 대문자가 포함되어야 합니다.');
                event.preventDefault();
            } else {
                console.log('전송 완료');
            }
        });
    </script>

    <script>
        var count = 0;
        $('.badge').on('click', function () {
            count += 1;
            console.log(count);

            if (count % 2 == 1) {
                $('.badge').html('Light 🔄');
            } else {
                $('.badge').html('Dark 🔄');
            }
        });
    </script>

    <script>
        var now = 0;
        document.querySelector('.slide-1').addEventListener('click', function () {
            document.querySelector('.slide-container').style.transform = 'translateX(0vw)';
            now = 0;
        })

        document.querySelector('.slide-2').addEventListener('click', function () {
            document.querySelector('.slide-container').style.transform = 'translateX(-100vw)';
            now = 1;
        })

        document.querySelector('.slide-3').addEventListener('click', function () {
            document.querySelector('.slide-container').style.transform = 'translateX(-200vw)';
            now = 2;
        })

        document.querySelector('.slide-previous').addEventListener('click', function () {
            if (now > 0) {
                now--;
                document.querySelector('.slide-container').style.transform = 'translateX(-' + now + '00vw)'
            } else { }
        })

        document.querySelector('.slide-next').addEventListener('click', function () {
            if (now < 2) {
                now++;
                document.querySelector('.slide-container').style.transform = 'translateX(-' + now + '00vw)'
            } else { }
        })
    </script>

    <script>
        // function 문법
        // 1. 긴 코드 축약해서 쓸 수 있음
        // 2. 파라미터 추가 가능
        // 3. return

        // function 함수(a) {
        //     1 + a
        // }
        // 함수(4) // 1 + 4

        // function 함수() {
        //     return 123 // 함수의 결과로 return 오른쪽의 값을 반환해라
        // }
        // var 변수 = 함수();
        // console.log(변수); // 123

        // return의 특징
        // 1. 아무거나 집어넣을 수 있음 (문자, 1 + 6 등)
        // 2. return 아래의 코드들은 실행이 되지 않음 (함수를 종료하라는 의미)
        // 3. 자료를 넣으면 다른 자료가 나오는 변환기 만들고 싶을 때 사용
        // (예시) 쇼핑몰을 만드는데 가격 아래에 부가세를 표시하고 싶을 때
        
        // console.log(50000 * 0.1); // 이걸 매번 하면 피곤함
        // // 그래서 아래와 같은 함수를 만듦

        // function vat(a){
        //     return a * 0.1
        // }
        // console.log(vat(50000)); // 50000 * 0.1 = 5000
        // 이외에 문자 -> 문자 변환기, 숫자 -> true/false 변환기 등 사용 가능

        // 소수점 있는 숫자 연산시 주의점
        // function vat(a){
        //     return a * 1.1
        // }
        // console.log(vat(55555)); // 55555 * 1.1 = 61110.500000000001
        // 2진법으로 소수 계산을 하면 무한소수가 나와버리기 때문에 반올림을 시킴
        // 반올림 = 오차가 발생함
        // (예시) 1.1 + 0.3 = 1.400000000000000000000000000000000000000001
        
        // 해결책
        // 1. 무시한다
        // 2. 정확한 연산을 하고 싶으면 소수점을 쓰지 않는다 (소수점을 전부 10 곱해서 연산한 후 결과값을 10으로 다시 나눈다)
        // 3. 소수점 연산을 정확하게 해주는 라이브러리를 사용한다.
        // 4. 대부분의 상황에서는 반올림을 한다.

        function vat(a){
            var num = (a * 1.1).toFixed(1); // .toFixed(n) = 소수점 n째자리까지 반올림해라!
            // 주의점: toFixed로 고친 숫자는 문자가 되어서 덧셈 따위를 할 수 없음
            // 자바스크립트 + 연산자 특징
            // '문자' + 123 = '문자123'
            // '문자' + '문자' = '문자문자'
            return parseFloat(num) // 정수라면 parseInt, 소수라면 parseFloat
        }
        console.log(vat(55555)); // 61110.5

        // Q1. 함수에 분과 초를 차례로 파라미터로 입력하면 ms단위로 바꿔서 뱉어주는 함수를 만들어봅시다.
        function ms(minute, second){
            minuteToMs = minute * 60 * 1000;
            secondToMs = second * 1000;
            return minuteToMs + secondToMs
        }
        console.log(ms(2, 10));

        // Q2. 가격을 파라미터로 입력하면 10% 할인가를 뱉는 함수를 만들어봅시다.
        // 근데 첫 구매여부도 true/false로 둘째 파라미터에 입력해서 첫 구매가 맞을 경우 추가로 1.5 달러도 할인해줘야합니다. 
        function salePrice(price, firstBuy){
            if (firstBuy == true) {
                return parseFloat((price * 0.9 - 1.5).toFixed(2))
            } else {
                return parseFloat((price * 0.9).toFixed(2))
            }
        }
        console.log(salePrice(10.34567, true));
    </script>
</body>

</html>